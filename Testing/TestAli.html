<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Musixmatch</title>
</head>

<body>

</body>
<script>
    function GetData() {

        fetch('https://api.chartmetric.com/api/token', {
            method: "POST",
            // origin:'http://127.0.0.1:5500',
            //mode:'no-cors',
            headers: {
                'content-type': 'application/json',
               // 'Access-Control-Allow-Origin': 'http://127.0.0.1:5500',
              //  'Access-Control-Allow-Origin': 'https://api.chartmetric.com/',
  //'Access-Control-Allow-Origin': '*',

            },
            body: JSON.stringify({
                refreshtoken: "uC6sog7Tyf4sakW06bwLoWQmQTwugmzgINywzA0WD0MQQvfRZsK5ZhPssGsBBdoS"
            })
        })
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                console.log(data)

                fetch('https://api.chartmetric.com/api/city/7060/radio/top-tracks?limit=10', {
                    headers: {
                        'Authorization': "Bearer " + data.token,
                        'content-type': 'application/json',
                        'Access-Control-Allow-Origin': 'http://127.0.0.1:5500',

                    }
                })
                    .then(function (response) {
                        return response.json();
                    })
                    .then(function (data) {
                        console.log(data);
                    })
                    .catch(function (error) {
                        console.log(error);
                    })

            })
            .catch(function (err) {
                console.log(err);
            });

    }
    GetData()
</script>

</html>